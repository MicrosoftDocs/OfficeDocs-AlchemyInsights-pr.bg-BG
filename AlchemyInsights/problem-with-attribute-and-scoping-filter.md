---
title: Проблем с филтъра "атрибут и обхват"
ms.author: v-smandalika
author: v-smandalika
manager: dansimp
ms.date: 02/19/2021
audience: Admin
ms.topic: article
ms.service: o365-administration
ROBOTS: NOINDEX, NOFOLLOW
localization_priority: Priority
ms.collection: Adm_O365
ms.custom:
- "8470"
- "9004687"
ms.openlocfilehash: 78df24c0d8a670d678e26879cf81476f1ae9b92d
ms.sourcegitcommit: 379e132c4d21ecf703d5506484ec96a767fdda39
ms.translationtype: MT
ms.contentlocale: bg-BG
ms.lasthandoff: 03/04/2021
ms.locfileid: "50480970"
---
# <a name="problem-with-attribute-and-scoping-filter"></a>Проблем с филтъра "атрибут и обхват"

**Проблем със противоречиви UPN стойности**

Работният ден за осигуряване на работен ден на потребителя за реклама на ad потребители показва съобщение за грешка **HybridSynchronizationActiveDirectoryUserPrincipalNameNotUnique**. Операцията е неуспешна, защото UPN стойност, предоставена за добавяне/модификация, не е уникална за цялата гора. Подробни данни за грешка: **CONSTRAINT_ATT_TYPE-userPrincipalName**.

Стойността на **userPrincipalName** , която се опитва да зададе вашият работен лист, когато се създава потребителският АКАУНТ за реклама, вече съществува в целевия домейн за реклама. Това означава, че или (1) потребителят вече съществува и че ИД на съвпадението не е неуспешно за потребителя или (2) правилото за UPN поколение генерира конфликтна стойност.

По-долу са описани стъпките за предложения за разрешаване:

Ако потребителят вече съществува и проверката за съвпадащи ИД е неуспешна, за да се свърже акаунтът за работен ден към акаунт за Active Directory, тогава Проверете дали Атрибутът за съвпадащи ИД (обикновено **employeeID**) както в работен ден, така и в рекламата има точно съвпадение. Ако не съвпадат, това е проблем с данни, който трябва да бъде коригиран. Например, ако EmployeeID в работен ден е 001052, а в AD то е 1052, тогава Осигуряващият двигател няма да може да свърже двата акаунта и ще се опита да създаде потребител, който вече съществува. В този случай решението е да се промени стойността на **EmployeeID** в ad, за да се включат водещите нули, за да бъдат 001052.
Ако изразът генериращ UPN не генерира уникална стойност, помислете за използване на функцията за дублиране на **SelectUniqueValue** , за да генерирате уникална стойност всеки път.

**Осигуряването на работен ден на AD потребители не задава стойност на атрибута "мениджър" за потребителския акаунт за реклама**

Заданието за осигуряване на работен ден за реклама на потребителя не задава стойността на атрибута **Manager** за потребителските акаунти за реклама. Има два възможни сценария, когато се вижда това поведение:

1. Ръководителят в работен ден не може да бъде разрешен за съответен потребителски акаунт за реклама, тъй като диспечерът не е в обхват.
2. В сценария с **множество рекламни домейни** Диспечерът в работен ден не присъства в същия домейн като потребителя.

Изпробвайте тези стъпки, за да отстраните проблема:

1. Ако сте определили филтри за обхват, първо проверете дали Ръководителят е в обхвата си и че отговаря на клаузата за обхват. Ако диспечерът не отговаря на филтъра за обхват, променете филтъра, така че ръководителят да е в обхвата на операцията за осигуряване.
2. Ако имате множество домейни за реклама, тогава Конекторът има известно ограничение за неспособност за разрешаване на препратките към диспечера за кръстосани домейни.

За повече информация за конфигурирането на работен ден за автоматизирано осигуряване вижте [урок: Конфигуриране на работен ден за автоматично осигуряване на потребителя](https://docs.microsoft.com/azure/active-directory/saas-apps/workday-inbound-tutorial).













